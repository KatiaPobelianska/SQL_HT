 1 ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸: ## Ğ’ Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Ğ‘Ğ” music Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ ÑĞ»ĞµĞ´/Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹:

--Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ğ¸Ğ¼ĞµĞ½Ğ° ÑĞ·ĞµÑ€Ğ¾Ğ² Ğ½Ğµ Ğ¸Ğ· France

db.users.find(
    { country: { $nin: ['France'] } },
    { fullname: 1, country: 1, _id: 0 }
)

--Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ğ¹ Ğ½Ğ° Ñ‚Ñ€ĞµĞºĞ¸

1.db.reactions.insertMany([
    { emoji: 1, designation: 'ğŸ‘' },
    { emoji: 2, designation: 'â¤ï¸' },
    { emoji: 3, designation: 'ğŸ˜Š' },
    { emoji: 4, designation: 'ğŸ‘' },
    { emoji: 5, designation: 'ğŸ‘' }
])

2.db.tracks.updateMany({}, {$set: {reactions: []}})

3.var usersId = [1, 2, 3, 4, 5];
var tracksId = [1, 2, 3, 4, 5];
var emojis = ["ğŸ‘", "â¤ï¸", "ğŸ˜Š", "ğŸ‘", "ğŸ‘"];
for (var i = 0; i < tracksId.length; i++) {
    var trackId = tracksId[i];
    var userId = usersId[i]; 
    var emoji = emojis[i];
    db.tracks.updateOne(
        { _id: trackId },
        {
            $push: {
                reactions: {
                    $each: [
                    {"userId": usersId[i], "emoji": emojis[i]},
                    {"userId": usersId[i+1], "emojis": emojis[i+1]},
                    {"userId": usersId[i+2], "emojis": emojis[i+2]}
                    ]
                }
            }
        }
    );
}

4.db.tracks.updateMany(
{"reactions": {"userId": null, "emojis": null}},
{$pull: {"reactions": {"userId": null, "emojis": null}}}
)

--Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ñ€ĞµĞºĞ¾Ğ² Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒÑ Ğ¾Ñ‚ 1 Ğ´Ğ¾ 10 Ğ¼Ğ¸Ğ½

db.tracks.find(
    { duration_secs: { $gte: 1 * 60, $lte: 10 * 60 } },
    { title: 1, _id: 0 }
)

--Ğ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ñ‚Ñ€ĞµĞºĞ¸ ÑĞ·ĞµÑ€Ğ° 4

db.tracks.find(
    { "reactions.userId": 4 },
    { title: 1, _id: 0 }
)

--Ğ¡ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ° Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ‘Ğ” music (ÑĞ·ĞµÑ€Ñ‹, Ñ‚Ñ€ĞµĞºĞ¸, Ñ€ĞµĞ°ĞºÑ†Ğ¸Ğ¸, Ğ¿Ğ»ĞµĞ¹Ğ»Ğ¸ÑÑ‚Ñ‹)

https://dbdiagram.io/d/music-659dbdf7ac844320ae93a375

